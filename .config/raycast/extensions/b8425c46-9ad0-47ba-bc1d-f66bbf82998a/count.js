"use strict";var h=Object.defineProperty;var w=Object.getOwnPropertyDescriptor;var S=Object.getOwnPropertyNames;var T=Object.prototype.hasOwnProperty;var y=(t,n)=>{for(var e in n)h(t,e,{get:n[e],enumerable:!0})},A=(t,n,e,r)=>{if(n&&typeof n=="object"||typeof n=="function")for(let a of S(n))!T.call(t,a)&&a!==e&&h(t,a,{get:()=>n[a],enumerable:!(r=w(n,a))||r.enumerable});return t};var k=t=>A(h({},"__esModule",{value:!0}),t);var I={};y(I,{default:()=>C});module.exports=k(I);var o=require("@raycast/api"),l=require("react");var p=t=>{let n=[],e=0,r=t.length;for(;e<r;){let a=t.charCodeAt(e++);if(a>=55296&&a<=56319&&e<r){let u=t.charCodeAt(e++);(u&64512)==56320?n.push(((a&1023)<<10)+(u&1023)+65536):(n.push(a),e--)}else n.push(a)}return n},F=t=>t>=19968&&t<=40959||t>=12352&&t<=12543||t>=44032&&t<=55215?!0:t>=13312&&t<=19903||t>=63744&&t<=64255||t>=131072&&t<=173791||t>=173824&&t<=177983||t>=177984&&t<=178207||t>=178208&&t<=183983||t>=183984&&t<=191471,$=t=>t>=12288&&t<=12351||t>=65281&&t<=65295||t>=65306&&t<=65312||t>=65339&&t<=65344||t>=65371&&t<=65381||t>=65072&&t<=65103,g=(t,n)=>{let e=t.trim(),r=0;if(e){let u=e.replace(/['";:,.?¿\-!¡]+/g,"").split(/\s+/);for(let x of u){if(!x)continue;let s=0,i=0;for(;i<x.length;){let m=x.charCodeAt(i);if($(m)){i>s&&r++,s=i+1,i++;continue}F(m)&&(i>s&&r++,r++,s=i+1),i++}s<x.length&&r++}}return{paragraphs:e?(e.match(/\n+/g)||[]).length+1:0,sentences:e?(e.match(/[.?!…]+./g)||[]).length+1:0,words:r,reading_time:Math.ceil(r/275),speaking_time:Math.ceil(r/180),characters:n?p(t).length:e?p(e.replace(/\s/g,"")).length:0}};var f=require("@raycast/api");async function b(){let t=await f.Clipboard.readText();return t?((0,f.showToast)({style:f.Toast.Style.Success,title:"Text loaded from clipboard",message:"[\u2318 + E] to reset"}),t.trim()):""}async function d(){try{let t=await(0,f.getSelectedText)();if(t)return(0,f.showToast)({style:f.Toast.Style.Success,title:"Text loaded from selected text",message:"[\u2318 + E] to reset"}),t.trim()}catch{}return""}var c=require("react/jsx-runtime");function C(){let[t,n]=(0,l.useState)(""),[e,r]=(0,l.useState)(!0),[a,u]=(0,l.useState)("");(0,l.useEffect)(()=>{(async()=>{let s=await d();s||(s=await b()),n(s)})()},[]),(0,l.useEffect)(()=>{let s=g(t,e),i=`${s.characters} characters \xB7 ${s.words} words 
${s.sentences} sentences \xB7 ${s.paragraphs} paragraphs 
${s.reading_time} minutes to read \xB7 ${s.speaking_time} minutes to speak`;u(i)},[t,e]);let x=(0,c.jsxs)(o.ActionPanel,{children:[(0,c.jsx)(o.Action,{title:"Toggle Whitespace",onAction:()=>r(!e),shortcut:{modifiers:["cmd"],key:"t"},icon:o.Icon.Switch}),(0,c.jsx)(o.Action,{title:"Clear Text",onAction:()=>n(""),shortcut:{modifiers:["cmd"],key:"e"},icon:o.Icon.Trash})]});return(0,c.jsxs)(o.Form,{actions:x,children:[(0,c.jsx)(o.Form.Description,{text:a}),(0,c.jsx)(o.Form.TextArea,{id:"text",title:"Text to Count",placeholder:"Start typing...",value:t,onChange:n}),(0,c.jsx)(o.Form.Checkbox,{id:"include-whitespace",title:"Options",label:"Include whitespace in character count",value:e,onChange:r})]})}
/**
 * Modified from implementation in @RadLikeWhoa/Countable
 * @source https://github.com/RadLikeWhoa/Countable
 * @license MIT
 */
