"use strict";var I=Object.defineProperty;var we=Object.getOwnPropertyDescriptor;var Ae=Object.getOwnPropertyNames;var be=Object.prototype.hasOwnProperty;var Te=(t,e)=>{for(var s in e)I(t,s,{get:e[s],enumerable:!0})},Le=(t,e,s,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of Ae(e))!be.call(t,o)&&o!==s&&I(t,o,{get:()=>e[o],enumerable:!(r=we(e,o))||r.enumerable});return t};var Pe=t=>Le(I({},"__esModule",{value:!0}),t);var He={};Te(He,{default:()=>Se});module.exports=Pe(He);var n=require("@raycast/api"),g=require("react");var ye=/([\p{Ll}\d])(\p{Lu})/gu,Re=/(\p{Lu})([\p{Lu}][\p{Ll}])/gu,Ee=/(\d)\p{Ll}|(\p{L})\d/u,ke=/[^\p{L}\d]+/giu,j="$1\0$2",W="";function X(t){let e=t.trim();e=e.replace(ye,j).replace(Re,j),e=e.replace(ke,"\0");let s=0,r=e.length;for(;e.charAt(s)==="\0";)s++;if(s===r)return[];for(;e.charAt(r-1)==="\0";)r--;return e.slice(s,r).split(/\0/g)}function _e(t){let e=X(t);for(let s=0;s<e.length;s++){let r=e[s],o=Ee.exec(r);if(o){let i=o.index+(o[1]??o[2]).length;e.splice(s,1,r.slice(0,i),r.slice(i))}}return e}function w(t,e){let[s,r,o]=L(t,e);return s+r.map(R(e?.locale)).join(e?.delimiter??" ")+o}function J(t,e){let[s,r,o]=L(t,e),i=R(e?.locale),C=E(e?.locale),u=e?.mergeAmbiguousCharacters?F(i,C):Y(i,C);return s+r.map((h,f)=>f===0?i(h):u(h,f)).join(e?.delimiter??"")+o}function H(t,e){let[s,r,o]=L(t,e),i=R(e?.locale),C=E(e?.locale),u=e?.mergeAmbiguousCharacters?F(i,C):Y(i,C);return s+r.map(u).join(e?.delimiter??"")+o}function K(t,e){return P(t,{delimiter:"_",...e})}function P(t,e){let[s,r,o]=L(t,e),i=R(e?.locale),C=E(e?.locale);return s+r.map(F(i,C)).join(e?.delimiter??" ")+o}function V(t,e){let[s,r,o]=L(t,e);return s+r.map(E(e?.locale)).join(e?.delimiter??"_")+o}function B(t,e){return w(t,{delimiter:".",...e})}function y(t,e){return w(t,{delimiter:"-",...e})}function Q(t,e){return w(t,{delimiter:"/",...e})}function q(t,e){return w(t,{delimiter:"_",...e})}function G(t,e){return P(t,{delimiter:"-",...e})}function R(t){return t===!1?e=>e.toLowerCase():e=>e.toLocaleLowerCase(t)}function E(t){return t===!1?e=>e.toUpperCase():e=>e.toLocaleUpperCase(t)}function F(t,e){return s=>`${e(s[0])}${t(s.slice(1))}`}function Y(t,e){return(s,r)=>{let o=s[0];return(r>0&&o>="0"&&o<="9"?"_"+o:e(o))+t(s.slice(1))}}function L(t,e={}){let s=e.split??(e.separateNumbers?_e:X),r=e.prefixCharacters??W,o=e.suffixCharacters??W,i=0,C=t.length;for(;i<t.length;){let u=t.charAt(i);if(!r.includes(u))break;i++}for(;C>i;){let u=C-1,h=t.charAt(u);if(!o.includes(h))break;C=u}return[t.slice(0,i),s(t.slice(i,C)),t.slice(C)]}var M=require("@raycast/api");var Oe=/(\S+)|(.)/g,Ue=/[\.#]\p{Alphabetic}/u,ve=/\p{Ll}(?=[\p{Lu}])/u,Ie=/\p{Alphabetic}+/gu,Fe=/^(\P{Alphabetic})*(?:\p{Alphabetic}\.){2,}(\P{Alphabetic})*$/u,Ne=new Set(["\u2014","\u2013","-","\u2015","/"]),ee=new Set([".","!","?"]),Me=new Set([...ee,":",'"',"'","\u201D"]),N=new Set(["a","an","and","as","at","because","but","by","en","for","if","in","neither","nor","of","on","only","or","over","per","so","some","than","that","the","to","up","upon","v","versus","via","vs","when","with","without","yet"]);function te(t,e={}){let{locale:s=void 0,sentenceCase:r=!1,sentenceTerminators:o=ee,titleTerminators:i=Me,smallWords:C=N,wordSeparators:u=Ne}=typeof e=="string"||Array.isArray(e)?{locale:e}:e,h=r?o:i,f="",m=!0;for(let d of t.matchAll(Oe)){let{1:p,2:T,index:v=0}=d;if(T){f+=T;continue}if(Ue.test(p)){let x=p.match(Fe);if(x){let[A,a="",l=""]=x;f+=r&&!m?p:Z(p,a.length,s),m=h.has(l.charAt(0));continue}f+=p,m=h.has(p.charAt(p.length-1))}else{let x=Array.from(p.matchAll(Ie)),A=p,a=!1;for(let l=0;l<x.length;l++){let{0:b,index:S=0}=x[l],D=p.charAt(S+b.length);if(a=h.has(D),m)m=!1;else{if(r||ve.test(b))continue;if(x.length===1){if(C.has(b)&&!(v+p.length===t.length)&&!a)continue}else if(l>0&&(!u.has(p.charAt(S-1))||C.has(b)&&u.has(D)))continue}A=Z(A,S,s)}f+=A,m=a||h.has(p.charAt(p.length-1))}}return f}function Z(t,e,s){return t.slice(0,e)+t.charAt(e).toLocaleUpperCase(s)+t.slice(e+1)}function ne(t,e){let s="";for(let r of t)s+=Math.random()>.5?r.toLocaleUpperCase(e):r.toLocaleLowerCase(e);return s}function se(t,e){let s="";for(let r of t){let o=r.toLocaleLowerCase(e);s+=r===o?r.toLocaleUpperCase(e):o}return s}var re=(0,M.getPreferenceValues)();function ae(t){return/\p{L}/u.test(t)}var oe=(t,e)=>ne(t),ce=(t,e)=>se(t),ie=(t,e)=>re.preservePunctuation?t.toLowerCase():w(t,e).toLowerCase(),le=(t,e)=>{if(t.length<=1)return t.toLowerCase();let s="";for(let r=0;r<t.length;r++){if(ae(t[r])){s+=t[r].toLowerCase();break}s+=t[r]}return s+t.slice(s.length)},Ce=(t,e)=>y(t,e).toUpperCase(),pe=(t,e,s)=>{let r=(0,M.getPreferenceValues)().exceptions.split(",").map(i=>i.trim())??[],o=new Set([...r,...N]);return te(t,{sentenceCase:e,smallWords:o})},fe=(t,e)=>pe(t,!0,e),ue=(t,e)=>pe(t,!1,e),de=(t,e)=>re.preservePunctuation?t.toUpperCase():w(t,e).toUpperCase(),he=(t,e)=>{if(t.length<=1)return t.toUpperCase();let s="";for(let r=0;r<t.length;r++){if(ae(t[r])){s+=t[r].toUpperCase();break}s+=t[r]}return s+t.slice(s.length)};var me=require("@raycast/api"),k={"Camel Case":J,"Capital Case":P,"Constant Case":V,"Dot Case":B,"Header Case":G,"Lower Case":ie,"Lower First":le,"No Case":w,"Kebab Case":y,"Kebab Upper Case":Ce,"Pascal Case":H,"Pascal Snake Case":K,"Path Case":Q,"Random Case":oe,"Sentence Case":fe,"Snake Case":q,"Swap Case":ce,"Title Case":ue,"Upper Case":de,"Upper First":he},tt=Object.keys(k),ge={"Header Case":["train","dash"],"No Case":["none"],"Kebab Case":["dash","slug","param"],"Random Case":["sponge"],"Swap Case":["reverse"],"Constant Case":["macro"]};function $e(t,e){return e?t:t.toLowerCase()}function $(t,e){let s=(0,me.getPreferenceValues)();return k[e]($e(t,s.preserveCase),{prefixCharacters:s.prefixCharacters,suffixCharacters:s.suffixCharacters})}function _(t,e){let s=[],r=[],o=t.split(`
`);for(let i of o){let C=$(i,e);s.push(C),r.push((C.length===0?"\u200B":C)+`
`)}return{rawText:s.join(`
`),markdown:r.join(`
`)}}var c=require("react/jsx-runtime"),O=class t extends Error{constructor(){super("No text"),Object.setPrototypeOf(this,t.prototype)}};async function De(){try{return await(0,n.getSelectedText)()}catch{return""}}async function xe(t){let e=await n.Clipboard.readText(),s=await De();if(t==="clipboard"){if(e)return e;if(s)return s}else{if(s)return s;if(e)return e}throw new O}var U=new n.Cache,je=()=>{let t=U.get("pinned");return t?JSON.parse(t):[]},We=()=>{let t=U.get("recent");return t?JSON.parse(t):[]},Xe=t=>{U.set("pinned",JSON.stringify(t))},Je=t=>{U.set("recent",JSON.stringify(t))};function Se(t){let e=(0,n.getPreferenceValues)(),s=e.source,r=e.action,o=t.launchContext?.case;if(o){(async()=>{let a=await xe(s),l=$(a,o);r==="paste"?n.Clipboard.paste(l):n.Clipboard.copy(l),(0,n.showHUD)(`Converted to ${o}`),(0,n.popToRoot)()})();return}let[i,C]=(0,g.useState)(""),[u,h]=(0,g.useState)(),[f,m]=(0,g.useState)([]),[d,p]=(0,g.useState)([]);(0,g.useEffect)(()=>{m(je()),p(We()),(0,n.getFrontmostApplication)().then(h)},[]),(0,g.useEffect)(()=>{Xe(f)},[f]),(0,g.useEffect)(()=>{Je(d)},[d]);let T=async()=>{try{C(await xe(s))}catch(a){a instanceof O&&(0,n.showToast)({style:n.Toast.Style.Failure,title:"Nothing to convert",message:"Please ensure that text is either selected or copied"})}};(0,g.useEffect)(()=>{T()},[]);let v=a=>(0,c.jsx)(n.Action,{title:"Copy to Clipboard",icon:n.Icon.Clipboard,onAction:()=>{p([a.case,...d.filter(l=>l!==a.case)].slice(0,4+f.length)),(0,n.showHUD)("Copied to Clipboard"),n.Clipboard.copy(a.modified),e.popToRoot?(0,n.popToRoot)():(0,n.closeMainWindow)()}}),x=a=>u?(0,c.jsx)(n.Action,{title:`Paste in ${u.name}`,icon:{fileIcon:u.path},onAction:()=>{p([a.case,...d.filter(l=>l!==a.case)].slice(0,4+f.length)),(0,n.showHUD)(`Pasted in ${u.name}`),n.Clipboard.paste(a.modified),e.popToRoot?(0,n.popToRoot)():(0,n.closeMainWindow)()}}):null,A=a=>{let l=encodeURIComponent(`{"case":"${a.case}"}`),b=`raycast://extensions/erics118/${n.environment.extensionName}/${n.environment.commandName}?context=${l}`;return(0,c.jsx)(n.List.Item,{id:a.case,title:a.case,accessories:[{text:a.modified}],detail:(0,c.jsx)(n.List.Item.Detail,{markdown:a.detail}),keywords:ge[a.case],actions:(0,c.jsxs)(n.ActionPanel,{children:[(0,c.jsxs)(n.ActionPanel.Section,{children:[r==="paste"&&(0,c.jsx)(x,{...a}),(0,c.jsx)(v,{...a}),r==="copy"&&(0,c.jsx)(x,{...a})]}),(0,c.jsxs)(n.ActionPanel.Section,{children:[a.pinned?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.Action,{title:"Remove Pinned Case",icon:n.Icon.PinDisabled,shortcut:n.Keyboard.Shortcut.Common.Remove,onAction:()=>{m(f.filter(S=>S!==a.case))}}),(0,c.jsx)(n.Action,{title:"Clear Pinned Cases",style:n.Action.Style.Destructive,icon:{source:n.Icon.XMarkCircle},shortcut:n.Keyboard.Shortcut.Common.RemoveAll,onAction:()=>{m([])}})]}):(0,c.jsx)(n.Action,{title:"Pin Case",icon:n.Icon.Pin,shortcut:n.Keyboard.Shortcut.Common.Pin,onAction:()=>{m([a.case,...f]),a.recent&&p(d.filter(S=>S!==a.case))}}),a.recent&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.Action,{title:"Remove Recent Case",icon:n.Icon.XMarkCircle,shortcut:n.Keyboard.Shortcut.Common.Remove,onAction:()=>{p(d.filter(S=>S!==a.case))}}),(0,c.jsx)(n.Action,{title:"Clear Recent Cases",icon:{source:n.Icon.XMarkCircle,tintColor:n.Color.Red},shortcut:n.Keyboard.Shortcut.Common.RemoveAll,onAction:()=>{p([])}})]}),(0,c.jsx)(n.Action.CreateQuicklink,{title:`Create Quicklink to Convert to ${a.case}`,quicklink:{name:`Convert to ${a.case}`,link:b}})]}),(0,c.jsx)(n.ActionPanel.Section,{children:(0,c.jsx)(n.Action,{title:"Refresh Content",icon:n.Icon.RotateAntiClockwise,shortcut:n.Keyboard.Shortcut.Common.Refresh,onAction:T})})]})})};return(0,c.jsxs)(n.List,{isShowingDetail:!0,isLoading:!f||!d,selectedItemId:d[0],children:[(0,c.jsx)(n.List.Section,{title:"Pinned",children:f?.map(a=>{let l=_(i,a);return(0,c.jsx)(A,{case:a,modified:l.rawText,detail:l.markdown,pinned:!0},a)})}),(0,c.jsx)(n.List.Section,{title:"Recent",children:d.filter(a=>!f.includes(a)).map(a=>{let l=_(i,a);return(0,c.jsx)(A,{case:a,modified:l.rawText,detail:l.markdown,recent:!0},a)})}),(0,c.jsx)(n.List.Section,{title:"All Cases",children:Object.keys(k).filter(a=>e[a.replace(/ +/g,"")]&&!d.includes(a)&&!f.includes(a)).map(a=>{let l=_(i,a);return(0,c.jsx)(A,{case:a,modified:l.rawText,detail:l.markdown},a)})})]})}
